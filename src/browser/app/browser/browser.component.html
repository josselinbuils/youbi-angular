<div [ngClass]="{show: letter}" class="letter">{{letter}}</div>
<div *ngFor="let line of albumLines">
  <div #item class="item" *ngFor="let album of line" [attr.letter]="album.artist.slice(0, 1).toUpperCase()"
       [ngClass]="{'default-preview fa fa-music': !album.imageUrl, 'selected': album === selectedAlbum}"
       [style.background-image]="sanitizer.bypassSecurityTrustStyle('url(' + album.imageUrl + ')')"
       [ngStyle]="{width: itemSize + 'px', height: itemSize + 'px'}"
       (click)="toggleDetails(album)">
    <!--suppress NsUnresolvedStyleClassReference -->
    <div [attr.style]="sanitizer.bypassSecurityTrustStyle('--details-background: ' + colorPalette[0])"
         *ngIf="album === selectedAlbum" class="caret"></div>
  </div>
  <app-details *ngIf="line.includes(selectedAlbum)" [album]="selectedAlbum" [colorPalette]="colorPalette"
               [width]="lineWidth"></app-details>
</div>
